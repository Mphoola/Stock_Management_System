import{r as y,b as k,d as $,u as V,c as r,a as s,t as u,e as n,w as L,f as m,v as p,n as _,g as a,h as N,i as S,j as g,k as C,o as i,l as B,m as E,p as h,q as U}from"./app.931b9dd9.js";const j={class:"container-fluid page-body-wrapper full-page-wrapper"},q={class:"content-wrapper d-flex align-items-center auth px-0"},D={class:"row w-100 mx-0"},F={class:"col-lg-4 mx-auto"},M={class:"auth-form-light text-left py-5 px-4 px-sm-5"},P=s("div",{class:"brand-logo"},[s("h1",{class:"font-weight-light"},"Ndiwo Shop")],-1),T=s("h6",null,"Login to continue",-1),z={key:0,class:"text-danger mt-2"},R=["onSubmit"],A={class:"form-group"},G={key:0,class:"text-danger mt-2"},H={class:"form-group"},I={key:0,class:"text-danger mt-2"},J=["disabled"],K={key:0,class:"spinner-border spinner-border-sm text-light",role:"status"},O=s("span",{class:"visually-hidden"},null,-1),Q=[O],W=g(" Login "),X={class:"my-2 d-flex justify-content-between align-items-center"},Y=s("div",null,null,-1),Z=g("Forget Password?"),ts={__name:"Login",setup(ss){const v=B(),w=E(),t=y({email:"",password:""}),l=k(""),f=$(()=>({email:{required:h,email:U},password:{required:h}})),o=V(f,t),b=async()=>{if(await o.value.$validate())w.dispatch("loginUser",{email:t.email,password:t.password}).then(e=>{console.log(e),e.status?v.push("/dashboard"):l.value=e.message});else return};return(d,e)=>{const x=C("router-link");return i(),r("div",j,[s("div",q,[s("div",D,[s("div",F,[s("div",M,[P,T,l.value?(i(),r("p",z,u(l.value),1)):n("",!0),s("form",{class:"py-3",onSubmit:L(b,["prevent"])},[s("div",A,[m(s("input",{type:"email",class:_(["form-control",{"is-invalid":a(o).email.$error}]),placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=c=>t.email=c)},null,2),[[p,t.email]]),a(o).email.$error?(i(),r("div",G,u(a(o).email.$errors[0].$message),1)):n("",!0)]),s("div",H,[m(s("input",{type:"password",class:_([{"is-invalid":a(o).password.$error},"form-control"]),placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=c=>t.password=c)},null,2),[[p,t.password]]),a(o).password.$error?(i(),r("div",I,u(a(o).password.$errors[0].$message),1)):n("",!0)]),s("button",{class:"mt-3 btn btn-block btn-primary btn-sm font-weight-medium auth-form-btn",disabled:d.$store.getters.isLoading,type:"submit"},[d.$store.getters.isLoading?(i(),r("div",K,Q)):n("",!0),W],8,J)],40,R),s("div",X,[Y,N(x,{class:"auth-link text-black",to:"/forget-password"},{default:S(()=>[Z]),_:1})])])])])])])}}};export{ts as default};
